<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_72) on Tue Mar 15 15:14:34 MDT 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>TimedRatioPolicy (jcircuit 1.0 API)</title>
<meta name="date" content="2016-03-15">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="TimedRatioPolicy (jcircuit 1.0 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":9,"i2":10,"i3":10,"i4":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../co/codecraft/jcircuit/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TimedRatioPolicy.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../co/codecraft/jcircuit/DirectTransitionPolicy.html" title="class in co.codecraft.jcircuit"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../co/codecraft/jcircuit/TimedRatioPolicy.Builder.html" title="class in co.codecraft.jcircuit"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?co/codecraft/jcircuit/TimedRatioPolicy.html" target="_top">Frames</a></li>
<li><a href="TimedRatioPolicy.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">co.codecraft.jcircuit</div>
<h2 title="Class TimedRatioPolicy" class="title">Class TimedRatioPolicy</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../co/codecraft/jcircuit/TransitionPolicy.html" title="class in co.codecraft.jcircuit">co.codecraft.jcircuit.TransitionPolicy</a></li>
<li>
<ul class="inheritance">
<li>co.codecraft.jcircuit.TimedRatioPolicy</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">TimedRatioPolicy</span>
extends <a href="../../../co/codecraft/jcircuit/TransitionPolicy.html" title="class in co.codecraft.jcircuit">TransitionPolicy</a></pre>
<div class="block"><p>Provides a simple transition policy where all rules are expressed in terms of
 ratios of good and bad pulses, calculated at regularly timed intervals. This policy is suitable
 for implementing transition rules such as:
 "Open a circuit if we see <em style="color:red">X</em>% failures in a given time slice of
 <em style="color:red">Y</em> milliseconds. Reset after <em style="color:red">Z</em> milliseconds
 to try again."</p>

 <p>In terms of efficiency, this policy is suitable for highly concurrent environments and
 very fast pulses (hundreds or thousands of pulses per second). Its overhead is low, and
 it is robust and well tested. However, it is important to match the transition thresholds
 in the constructor to the concurrency you expect. An env where dozens or hundreds of
 threads are sending concurrent pulses is likely to create very "fuzzy" transitions, where
 good and bad pulses intermingle, even if the condition that determines goodness/badness
 is crisp. This is because concurrent pulses are likely to be processed in an order that's
 moderately different from the order in which they actually occur. In practical terms,
 that means you shouldn't use low thresholds (e.g., open the circuit after 5 bad pulses in
 a row, and sucessfully reset after 5 good ones) where concurrency and pulse rate are
 high.</p></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../co/codecraft/jcircuit/TimedRatioPolicy.Builder.html" title="class in co.codecraft.jcircuit">TimedRatioPolicy.Builder</a></span></code>
<div class="block">A convenience class to make constructor parameters less opaque.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>float</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../co/codecraft/jcircuit/TimedRatioPolicy.html#closeAtGoodRatio">closeAtGoodRatio</a></span></code>
<div class="block">Deem an open circuit breaker "repaired" and close it if, while resetting, we see a ratio of
 good:all pulses &gt;= this value.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../co/codecraft/jcircuit/TimedRatioPolicy.html#evalEveryNMillis">evalEveryNMillis</a></span></code>
<div class="block">Determines how often we cut data into a "slice" against which ratios can be evaluated, and thus
 the max speed with which transitions in the circuit can occur.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../co/codecraft/jcircuit/TimedRatioPolicy.html#failAfterNBadResets">failAfterNBadResets</a></span></code>
<div class="block">Fail a circuit breaker after attempting to reset (and failing), this many times in a row.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../co/codecraft/jcircuit/TimedRatioPolicy.html#minSliceCount">minSliceCount</a></span></code>
<div class="block">The minimum number of pulses that must be seen to make a slice valid for analysis.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>float</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../co/codecraft/jcircuit/TimedRatioPolicy.html#openAtGoodRatio">openAtGoodRatio</a></span></code>
<div class="block">Open a closed circuit breaker if we see a ratio of good:all that is &lt;= this value.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../co/codecraft/jcircuit/TimedRatioPolicy.html#resetAfterNMillis">resetAfterNMillis</a></span></code>
<div class="block">Determines when we are ready to attempt a reset, after having an open circuit for a while.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.co.codecraft.jcircuit.TransitionPolicy">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;co.codecraft.jcircuit.<a href="../../../co/codecraft/jcircuit/TransitionPolicy.html" title="class in co.codecraft.jcircuit">TransitionPolicy</a></h3>
<code><a href="../../../co/codecraft/jcircuit/TransitionPolicy.html#cb">cb</a>, <a href="../../../co/codecraft/jcircuit/TransitionPolicy.html#circuit">circuit</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../co/codecraft/jcircuit/TimedRatioPolicy.html#TimedRatioPolicy-double-double-int-int-int-int-">TimedRatioPolicy</a></span>(double&nbsp;openAtGoodRatio,
                double&nbsp;closeAtGoodRatio,
                int&nbsp;minSliceCount,
                int&nbsp;evalEveryNMillis,
                int&nbsp;resetAfterNMillis,
                int&nbsp;failAfterNBadResets)</code>
<div class="block">Establish numeric thresholds that embody our policy.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../co/codecraft/jcircuit/TimedRatioPolicy.html#afterDirectTransition-int-boolean-">afterDirectTransition</a></span>(int&nbsp;desiredState,
                     boolean&nbsp;force)</code>
<div class="block">A CircuitBreaker calls this method after its own <a href="../../../co/codecraft/jcircuit/CircuitBreaker.html#directTransition-int-boolean-"><code>directTransition()</code></a> completes.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static <a href="../../../co/codecraft/jcircuit/TimedRatioPolicy.Builder.html" title="class in co.codecraft.jcircuit">TimedRatioPolicy.Builder</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../co/codecraft/jcircuit/TimedRatioPolicy.html#builder--">builder</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../co/codecraft/jcircuit/TimedRatioPolicy.html#onAltPulse--">onAltPulse</a></span>()</code>
<div class="block">Notify the policy that we short-circuited normal work and used fallback logic instead.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../co/codecraft/jcircuit/TimedRatioPolicy.html#onBadPulse-java.lang.Throwable-">onBadPulse</a></span>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&nbsp;e)</code>
<div class="block">Notify the policy that we attempted normal work but failed.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../co/codecraft/jcircuit/TimedRatioPolicy.html#onGoodPulse--">onGoodPulse</a></span>()</code>
<div class="block">Notify the policy that we did normal work and succeeded.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.co.codecraft.jcircuit.TransitionPolicy">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;co.codecraft.jcircuit.<a href="../../../co/codecraft/jcircuit/TransitionPolicy.html" title="class in co.codecraft.jcircuit">TransitionPolicy</a></h3>
<code><a href="../../../co/codecraft/jcircuit/TransitionPolicy.html#beforeDirectTransition-int-boolean-">beforeDirectTransition</a>, <a href="../../../co/codecraft/jcircuit/TransitionPolicy.html#onBadPulse--">onBadPulse</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="openAtGoodRatio">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>openAtGoodRatio</h4>
<pre>public final&nbsp;float openAtGoodRatio</pre>
<div class="block">Open a closed circuit breaker if we see a ratio of good:all that is &lt;= this value.
 A value between 0.0 and 1.0, inclusive.</div>
</li>
</ul>
<a name="closeAtGoodRatio">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>closeAtGoodRatio</h4>
<pre>public final&nbsp;float closeAtGoodRatio</pre>
<div class="block">Deem an open circuit breaker "repaired" and close it if, while resetting, we see a ratio of
 good:all pulses &gt;= this value. A value between 0.0 and 1.0, inclusive. Generally, this value
 will be greater than <a href="../../../co/codecraft/jcircuit/TimedRatioPolicy.html#openAtGoodRatio"><code>openAtGoodRatio</code></a>, so a reset doesn't succeed unless the circuit
 is likely to stay closed.</div>
</li>
</ul>
<a name="failAfterNBadResets">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>failAfterNBadResets</h4>
<pre>public final&nbsp;int failAfterNBadResets</pre>
<div class="block">Fail a circuit breaker after attempting to reset (and failing), this many times in a row. If
 this value is &lt;= 0, the circuit breaker never fails -- it just transitions from <a href="../../../co/codecraft/jcircuit/Circuit.html#RESETTING"><code>Circuit.RESETTING</code></a>
 to either <a href="../../../co/codecraft/jcircuit/Circuit.html#CLOSED"><code>Circuit.CLOSED</code></a> or <a href="../../../co/codecraft/jcircuit/Circuit.html#OPEN"><code>Circuit.OPEN</code></a>.</div>
</li>
</ul>
<a name="evalEveryNMillis">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>evalEveryNMillis</h4>
<pre>public final&nbsp;int evalEveryNMillis</pre>
<div class="block">Determines how often we cut data into a "slice" against which ratios can be evaluated, and thus
 the max speed with which transitions in the circuit can occur.

 Pick a value that allows sufficient data to accumulate that we can reason with confidence about
 the state of the system. If your circuit will pulse 10 times per second, you probably
 don't want to slice every 50 milliseconds, because you'll have empty slices half the time; a
 better value in such a scenario might be 1000 or more, since this would give the average
 slice 10 pulses to reason about. (<a href="../../../co/codecraft/jcircuit/TimedRatioPolicy.html#minSliceCount"><code>minSliceCount</code></a> guarantees useful ratios even if no
 samples accumulate in a given slice interval, so configuring this value correctly is mostly
 a matter of efficiency.)</div>
</li>
</ul>
<a name="resetAfterNMillis">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resetAfterNMillis</h4>
<pre>public final&nbsp;int resetAfterNMillis</pre>
<div class="block"><p>Determines when we are ready to attempt a reset, after having an open circuit for a while.</p>

 <p>Resets are only attempted on eval boundaries, since a full eval cycle must complete to generate enough
 numbers to evaluate ratios with confidence. Maturity for a reset attempt is tested by pure elapsed time
 at the end of each eval cycle. Therefore, it is recommended that this number be chosen using the
 formula <code>(evalEveryNMillis * multiplier) - 1</code>. This is because testing reveals that sometimes
 periodic evaluation is early by a few microseconds. In a case where, for example, <code>evalEveryNMillis</code>
 is 100, if <code> resetAfterNMillis</code> were also set to 100, the first eval cycle would execute, compare
 elapsed time to 100 millis, and conclude that (very) slightly less than 100 millis had elapsed, so we would not
 be mature for a reset attempt.</p></div>
</li>
</ul>
<a name="minSliceCount">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>minSliceCount</h4>
<pre>public final&nbsp;int minSliceCount</pre>
<div class="block">The minimum number of pulses that must be seen to make a slice valid for analysis.

 Reasoning about ratios may be premature if the sample size is overly small; this value is used
 to extend the scope of a slice until at least this many good or bad pulses are observed.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="TimedRatioPolicy-double-double-int-int-int-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>TimedRatioPolicy</h4>
<pre>public&nbsp;TimedRatioPolicy(double&nbsp;openAtGoodRatio,
                        double&nbsp;closeAtGoodRatio,
                        int&nbsp;minSliceCount,
                        int&nbsp;evalEveryNMillis,
                        int&nbsp;resetAfterNMillis,
                        int&nbsp;failAfterNBadResets)</pre>
<div class="block">Establish numeric thresholds that embody our policy.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>openAtGoodRatio</code> - See <a href="../../../co/codecraft/jcircuit/TimedRatioPolicy.html#openAtGoodRatio"><code>the member variable</code></a>.</dd>
<dd><code>closeAtGoodRatio</code> - See <a href="../../../co/codecraft/jcircuit/TimedRatioPolicy.html#closeAtGoodRatio"><code>the member variable</code></a>.</dd>
<dd><code>minSliceCount</code> - See <a href="../../../co/codecraft/jcircuit/TimedRatioPolicy.html#minSliceCount"><code>the member variable</code></a>.</dd>
<dd><code>evalEveryNMillis</code> - See <a href="../../../co/codecraft/jcircuit/TimedRatioPolicy.html#evalEveryNMillis"><code>the member variable</code></a>.</dd>
<dd><code>resetAfterNMillis</code> - See <a href="../../../co/codecraft/jcircuit/TimedRatioPolicy.html#resetAfterNMillis"><code>the member variable</code></a>.</dd>
<dd><code>failAfterNBadResets</code> - See <a href="../../../co/codecraft/jcircuit/TimedRatioPolicy.html#failAfterNBadResets"><code>the member variable</code></a>.</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="onGoodPulse--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onGoodPulse</h4>
<pre>public&nbsp;void&nbsp;onGoodPulse()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../../co/codecraft/jcircuit/TransitionPolicy.html#onGoodPulse--">TransitionPolicy</a></code></span></div>
<div class="block">Notify the policy that we did normal work and succeeded.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../co/codecraft/jcircuit/TransitionPolicy.html#onGoodPulse--">onGoodPulse</a></code>&nbsp;in class&nbsp;<code><a href="../../../co/codecraft/jcircuit/TransitionPolicy.html" title="class in co.codecraft.jcircuit">TransitionPolicy</a></code></dd>
</dl>
</li>
</ul>
<a name="onBadPulse-java.lang.Throwable-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onBadPulse</h4>
<pre>public&nbsp;void&nbsp;onBadPulse(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&nbsp;e)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../../co/codecraft/jcircuit/TransitionPolicy.html#onBadPulse-java.lang.Throwable-">TransitionPolicy</a></code></span></div>
<div class="block">Notify the policy that we attempted normal work but failed.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../co/codecraft/jcircuit/TransitionPolicy.html#onBadPulse-java.lang.Throwable-">onBadPulse</a></code>&nbsp;in class&nbsp;<code><a href="../../../co/codecraft/jcircuit/TransitionPolicy.html" title="class in co.codecraft.jcircuit">TransitionPolicy</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>e</code> - Used to distinguish different types of errors. May be null.</dd>
</dl>
</li>
</ul>
<a name="onAltPulse--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onAltPulse</h4>
<pre>public&nbsp;void&nbsp;onAltPulse()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../../co/codecraft/jcircuit/TransitionPolicy.html#onAltPulse--">TransitionPolicy</a></code></span></div>
<div class="block">Notify the policy that we short-circuited normal work and used fallback logic instead.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../co/codecraft/jcircuit/TransitionPolicy.html#onAltPulse--">onAltPulse</a></code>&nbsp;in class&nbsp;<code><a href="../../../co/codecraft/jcircuit/TransitionPolicy.html" title="class in co.codecraft.jcircuit">TransitionPolicy</a></code></dd>
</dl>
</li>
</ul>
<a name="builder--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>builder</h4>
<pre>public static&nbsp;<a href="../../../co/codecraft/jcircuit/TimedRatioPolicy.Builder.html" title="class in co.codecraft.jcircuit">TimedRatioPolicy.Builder</a>&nbsp;builder()</pre>
</li>
</ul>
<a name="afterDirectTransition-int-boolean-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>afterDirectTransition</h4>
<pre>public&nbsp;void&nbsp;afterDirectTransition(int&nbsp;desiredState,
                                  boolean&nbsp;force)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../../co/codecraft/jcircuit/TransitionPolicy.html#afterDirectTransition-int-boolean-">TransitionPolicy</a></code></span></div>
<div class="block"><p>A CircuitBreaker calls this method after its own <a href="../../../co/codecraft/jcircuit/CircuitBreaker.html#directTransition-int-boolean-"><code>directTransition()</code></a> completes. This notifies its policy that an external entity just changed the
 state of the circuit breaker independent of policy logic/state, allowing it to react gracefully.</p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../co/codecraft/jcircuit/TransitionPolicy.html#afterDirectTransition-int-boolean-">afterDirectTransition</a></code>&nbsp;in class&nbsp;<code><a href="../../../co/codecraft/jcircuit/TransitionPolicy.html" title="class in co.codecraft.jcircuit">TransitionPolicy</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>desiredState</code> - The state that the caller wants to activate.</dd>
<dd><code>force</code> - Whether the caller will demand the state regardless of state machine rules.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../co/codecraft/jcircuit/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TimedRatioPolicy.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../co/codecraft/jcircuit/DirectTransitionPolicy.html" title="class in co.codecraft.jcircuit"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../co/codecraft/jcircuit/TimedRatioPolicy.Builder.html" title="class in co.codecraft.jcircuit"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?co/codecraft/jcircuit/TimedRatioPolicy.html" target="_top">Frames</a></li>
<li><a href="TimedRatioPolicy.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2016. All rights reserved.</small></p>
</body>
</html>
