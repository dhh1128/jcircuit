<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_72) on Tue Mar 15 15:14:34 MDT 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Circuit (jcircuit 1.0 API)</title>
<meta name="date" content="2016-03-15">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Circuit (jcircuit 1.0 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":9,"i2":9,"i3":9,"i4":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../co/codecraft/jcircuit/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Circuit.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../co/codecraft/jcircuit/Circuit.Listener.html" title="interface in co.codecraft.jcircuit"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?co/codecraft/jcircuit/Circuit.html" target="_top">Frames</a></li>
<li><a href="Circuit.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">co.codecraft.jcircuit</div>
<h2 title="Class Circuit" class="title">Class Circuit</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>co.codecraft.jcircuit.Circuit</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">Circuit</span>
extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block"><p>A Circuit proxies a code path, action, or feature that needs to be gracefully degraded or disabled
 in some circumstances. It provides a simple state machine and the ability to notify a listener
 about transitions. Circuits are never created directly; they are managed by a <a href="../../../co/codecraft/jcircuit/CircuitBreaker.html" title="class in co.codecraft.jcircuit"><code>CircuitBreaker</code></a>
 that is the true public interface for jcircuit features. Study CircuitBreaker documentation for
 an overview of key concepts.</p>

 <h3><a name="statemachine">State Machine</a></h3>
 <pre>
    <a href="../../../co/codecraft/jcircuit/Circuit.html#CLOSED"><code>CLOSED</code></a> --good pulse--&gt; <a href="../../../co/codecraft/jcircuit/Circuit.html#CLOSED"><code>CLOSED</code></a>
    <a href="../../../co/codecraft/jcircuit/Circuit.html#CLOSED"><code>CLOSED</code></a> --bad pulses (# or ratio per <a href="../../../co/codecraft/jcircuit/TransitionPolicy.html" title="class in co.codecraft.jcircuit"><code>policy</code></a>)--&gt; <a href="../../../co/codecraft/jcircuit/Circuit.html#OPEN"><code>OPEN</code></a>
    <a href="../../../co/codecraft/jcircuit/Circuit.html#OPEN"><code>OPEN</code></a> --alt pulses--&gt; (eventually, per <a href="../../../co/codecraft/jcircuit/TransitionPolicy.html" title="class in co.codecraft.jcircuit"><code>policy</code></a>) <a href="../../../co/codecraft/jcircuit/Circuit.html#RESETTING"><code>RESETTING</code></a>
    <a href="../../../co/codecraft/jcircuit/Circuit.html#RESETTING"><code>RESETTING</code></a> --good pulses--&gt; <a href="../../../co/codecraft/jcircuit/Circuit.html#CLOSED"><code>CLOSED</code></a>
    <a href="../../../co/codecraft/jcircuit/Circuit.html#RESETTING"><code>RESETTING</code></a> --bad pulses--&gt; <a href="../../../co/codecraft/jcircuit/Circuit.html#OPEN"><code>OPEN</code></a>
    <a href="../../../co/codecraft/jcircuit/Circuit.html#RESETTING"><code>RESETTING</code></a> --enough bad--&gt; (eventually, if <a href="../../../co/codecraft/jcircuit/TransitionPolicy.html" title="class in co.codecraft.jcircuit"><code>policy</code></a> says so) <a href="../../../co/codecraft/jcircuit/Circuit.html#FAILED"><code>FAILED</code></a>
    <a href="../../../co/codecraft/jcircuit/Circuit.html#FAILED"><code>FAILED</code></a> --manual reset request--&gt; <a href="../../../co/codecraft/jcircuit/Circuit.html#RESETTING"><code>RESETTING</code></a>
 </pre>
 
 <p>Circuits are efficiently threadsafe, even in the face of aggressive concurrency. Each uses
 a single atomic long to track state, rather than mutexes.</p></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../co/codecraft/jcircuit/Circuit.Listener.html" title="interface in co.codecraft.jcircuit">Circuit.Listener</a></span></code>
<div class="block">Receive notifications just after the circuit changes state (e.g., from <a href="../../../co/codecraft/jcircuit/Circuit.html#CLOSED"><code>CLOSED</code></a> to
 <a href="../../../co/codecraft/jcircuit/Circuit.html#OPEN"><code>OPEN</code></a>).</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../co/codecraft/jcircuit/Circuit.html#CLOSED">CLOSED</a></span></code>
<div class="block">The circuit is closed.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../co/codecraft/jcircuit/Circuit.html#FAILED">FAILED</a></span></code>
<div class="block">The circuit is in a permanent failure state.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../co/codecraft/jcircuit/Circuit.Listener.html" title="interface in co.codecraft.jcircuit">Circuit.Listener</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../co/codecraft/jcircuit/Circuit.html#listener">listener</a></span></code>
<div class="block">Receive notifications when the state of the circuit changes.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../co/codecraft/jcircuit/Circuit.html#OPEN">OPEN</a></span></code>
<div class="block">The circuit is open (tripped by some kind of problem).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../co/codecraft/jcircuit/Circuit.html#RESETTING">RESETTING</a></span></code>
<div class="block">The circuit is attempting to transition from OPEN to CLOSED; in other words, the system has been
 unhealthy, but we are now re-evaluating, hoping to see health again.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../co/codecraft/jcircuit/Circuit.html#shouldValidate">shouldValidate</a></span></code>
<div class="block">Setting this to true causes <a href="../../../co/codecraft/jcircuit/Circuit.html#transition-int-int-"><code>transition(int, int)</code></a> to execute a handful of conditionals
 to test that the start and end state of a transition actually match the rules of our state
 machine.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../co/codecraft/jcircuit/Circuit.html#STATE_MASK">STATE_MASK</a></span></code>
<div class="block">Use this constant to mask the current state snapshot (see <a href="../../../co/codecraft/jcircuit/Circuit.html#getStateSnapshot--"><code>getStateSnapshot()</code></a> into a
 value like <a href="../../../co/codecraft/jcircuit/Circuit.html#OPEN"><code>OPEN</code></a> or <a href="../../../co/codecraft/jcircuit/Circuit.html#CLOSED"><code>CLOSED</code></a> for a simplified view of the circuit breaker's
 state machine.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../co/codecraft/jcircuit/Circuit.html#Circuit-co.codecraft.jcircuit.Circuit.Listener-">Circuit</a></span>(<a href="../../../co/codecraft/jcircuit/Circuit.Listener.html" title="interface in co.codecraft.jcircuit">Circuit.Listener</a>&nbsp;listener)</code>
<div class="block">Create a new Circuit object that proxies the state of a code path or action/feature.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../co/codecraft/jcircuit/Circuit.html#getStateSnapshot--">getStateSnapshot</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../co/codecraft/jcircuit/Circuit.html#isValidTransition-int-int-">isValidTransition</a></span>(int&nbsp;oldStateOrSnapshot,
                 int&nbsp;newStateOrSnapshot)</code>&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../co/codecraft/jcircuit/Circuit.html#stateToString-int-">stateToString</a></span>(int&nbsp;state)</code>
<div class="block">Converts a state constant such as <a href="../../../co/codecraft/jcircuit/Circuit.html#CLOSED"><code>CLOSED</code></a> to a string such as "CLOSED".</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../co/codecraft/jcircuit/Circuit.html#stringToState-java.lang.String-">stringToState</a></span>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name)</code>
<div class="block">Converts a string such as "CLOSED" to a state constant such as <a href="../../../co/codecraft/jcircuit/Circuit.html#CLOSED"><code>CLOSED</code></a>.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../co/codecraft/jcircuit/Circuit.html#transition-int-int-">transition</a></span>(int&nbsp;oldSnapshot,
          int&nbsp;newState)</code>
<div class="block">Attempt to move our state machine to a new state.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="shouldValidate">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shouldValidate</h4>
<pre>public&nbsp;boolean shouldValidate</pre>
<div class="block">Setting this to true causes <a href="../../../co/codecraft/jcircuit/Circuit.html#transition-int-int-"><code>transition(int, int)</code></a> to execute a handful of conditionals
 to test that the start and end state of a transition actually match the rules of our state
 machine. This may be helpful while developing new <a href="../../../co/codecraft/jcircuit/CircuitBreaker.html" title="class in co.codecraft.jcircuit"><code>CircuitBreaker</code></a> implementations, and
 it is not overly expensive, but it is generally unnecessary in production.</div>
</li>
</ul>
<a name="listener">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>listener</h4>
<pre>public final&nbsp;<a href="../../../co/codecraft/jcircuit/Circuit.Listener.html" title="interface in co.codecraft.jcircuit">Circuit.Listener</a> listener</pre>
<div class="block">Receive notifications when the state of the circuit changes.</div>
</li>
</ul>
<a name="CLOSED">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CLOSED</h4>
<pre>public static final&nbsp;int CLOSED</pre>
<div class="block">The circuit is closed. Normal workflow is active; the system is healthy. We expect circuit breakers
 to be in this state the majority of the time. (This constant is enum-like, but is defined as an int
 to allow efficient bitmasking.)</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#co.codecraft.jcircuit.Circuit.CLOSED">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="OPEN">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>OPEN</h4>
<pre>public static final&nbsp;int OPEN</pre>
<div class="block">The circuit is open (tripped by some kind of problem). Alternate workflow should be used.
 (This constant is enum-like, but is defined as an int to allow bitmasking.)</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#co.codecraft.jcircuit.Circuit.OPEN">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="RESETTING">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>RESETTING</h4>
<pre>public static final&nbsp;int RESETTING</pre>
<div class="block">The circuit is attempting to transition from OPEN to CLOSED; in other words, the system has been
 unhealthy, but we are now re-evaluating, hoping to see health again. Health criteria, and thus the
 outcome of the reset, are governed by a <a href="../../../co/codecraft/jcircuit/TransitionPolicy.html" title="class in co.codecraft.jcircuit"><code>TransitionPolicy</code></a>. (This constant is enum-like, but is defined
 as an into to allow bitmasking.)</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#co.codecraft.jcircuit.Circuit.RESETTING">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="FAILED">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>FAILED</h4>
<pre>public static final&nbsp;int FAILED</pre>
<div class="block">The circuit is in a permanent failure state. Automatic resets are no longer possible, but manual
 resets can be attempted. (This constant is enum-like, but is defined as an int to allow bitmasking.)</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#co.codecraft.jcircuit.Circuit.FAILED">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="STATE_MASK">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>STATE_MASK</h4>
<pre>public static final&nbsp;int STATE_MASK</pre>
<div class="block">Use this constant to mask the current state snapshot (see <a href="../../../co/codecraft/jcircuit/Circuit.html#getStateSnapshot--"><code>getStateSnapshot()</code></a> into a
 value like <a href="../../../co/codecraft/jcircuit/Circuit.html#OPEN"><code>OPEN</code></a> or <a href="../../../co/codecraft/jcircuit/Circuit.html#CLOSED"><code>CLOSED</code></a> for a simplified view of the circuit breaker's
 state machine.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#co.codecraft.jcircuit.Circuit.STATE_MASK">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Circuit-co.codecraft.jcircuit.Circuit.Listener-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Circuit</h4>
<pre>public&nbsp;Circuit(<a href="../../../co/codecraft/jcircuit/Circuit.Listener.html" title="interface in co.codecraft.jcircuit">Circuit.Listener</a>&nbsp;listener)</pre>
<div class="block">Create a new Circuit object that proxies the state of a code path or action/feature.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>listener</code> - May be null.</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getStateSnapshot--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStateSnapshot</h4>
<pre>public&nbsp;int&nbsp;getStateSnapshot()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an opaque integer that encapsulates the current condition of the circuit breaker, including
 both public and private information. This integer may be masked with <a href="../../../co/codecraft/jcircuit/Circuit.html#STATE_MASK"><code>STATE_MASK</code></a> to produce
 one of the state constants (<a href="../../../co/codecraft/jcircuit/Circuit.html#CLOSED"><code>CLOSED</code></a>, <a href="../../../co/codecraft/jcircuit/Circuit.html#OPEN"><code>OPEN</code></a>, <a href="../../../co/codecraft/jcircuit/Circuit.html#RESETTING"><code>RESETTING</code></a>
 and <a href="../../../co/codecraft/jcircuit/Circuit.html#FAILED"><code>FAILED</code></a>). The other bits are internal details with a meaning that may change.

 <p>Note: This method is available for public auditing, but is mostly intended to be used by co-dependent
 objects. It should not be used to route a pulse to normal or alternate workflow.</p></dd>
</dl>
</li>
</ul>
<a name="transition-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>transition</h4>
<pre>public&nbsp;boolean&nbsp;transition(int&nbsp;oldSnapshot,
                          int&nbsp;newState)</pre>
<div class="block"><p>Attempt to move our state machine to a new state. This method should be called by <a href="../../../co/codecraft/jcircuit/TransitionPolicy.html" title="class in co.codecraft.jcircuit"><code>TransitionPolicy</code></a>
 objects, not the general public. (For direct manipulation of a circuit breaker, see <a href="../../../co/codecraft/jcircuit/CircuitBreaker.html#directTransition-int-boolean-"><code>CircuitBreaker.directTransition(int, boolean)</code></a> instead.)</p>

 <p>The request to transition will succeed if:</p>
 <ul>
     <li>The state machine is already in the requested state, making the transition redundant</li>
     <li><strong>OR</strong> the state has not changed since we last fetched it with <a href="../../../co/codecraft/jcircuit/Circuit.html#getStateSnapshot--"><code>getStateSnapshot()</code></a></li>
 </ul>

 <p>If <a href="../../../co/codecraft/jcircuit/Circuit.html#shouldValidate"><code>shouldValidate</code></a> is true, then the correctness of old and new state are checked with
 each call, and an <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang"><code>IllegalArgumentException</code></a> is thrown if anomalies are detected. (This
 correctness is not evaluated against the actual state of the circuit, but rather against the
 asserted oldSnapshot. In other words, it can only generate an exception if the caller is
 coded wrong, not if the caller is unaware of the current state of the circuit.) This may
 be helpful while developing a new <a href="../../../co/codecraft/jcircuit/CircuitBreaker.html" title="class in co.codecraft.jcircuit"><code>CircuitBreaker</code></a>.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>oldSnapshot</code> - Asserts that the circuit is currently in the state described by oldSnapshot.
                     This value is returned by <a href="../../../co/codecraft/jcircuit/Circuit.html#getStateSnapshot--"><code>getStateSnapshot()</code></a>; it is more than
                     one of the state constants (<a href="../../../co/codecraft/jcircuit/Circuit.html#OPEN"><code>OPEN</code></a>, <a href="../../../co/codecraft/jcircuit/Circuit.html#CLOSED"><code>CLOSED</code></a>, etc).</dd>
<dd><code>newState</code> - The new state that's desired. See <a href="../../../co/codecraft/jcircuit/Circuit.html#OPEN"><code>OPEN</code></a>, <a href="../../../co/codecraft/jcircuit/Circuit.html#CLOSED"><code>CLOSED</code></a>, etc.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the circuit is in the desired state when the function completes, false if not.</dd>
</dl>
</li>
</ul>
<a name="isValidTransition-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isValidTransition</h4>
<pre>public static&nbsp;boolean&nbsp;isValidTransition(int&nbsp;oldStateOrSnapshot,
                                        int&nbsp;newStateOrSnapshot)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>oldStateOrSnapshot</code> - The state (or the complex snapshot that includes state) from which the
                            transition would proceed.</dd>
<dd><code>newStateOrSnapshot</code> - The state (or the complex snapshot that includes state) into which the
                            transition would resolve.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the old and new states are valid for our defined state machine. Transitioning from
     <a href="../../../co/codecraft/jcircuit/Circuit.html#CLOSED"><code>CLOSED</code></a> to <a href="../../../co/codecraft/jcircuit/Circuit.html#OPEN"><code>OPEN</code></a> is valid; transitioning from <a href="../../../co/codecraft/jcircuit/Circuit.html#OPEN"><code>OPEN</code></a> to <a href="../../../co/codecraft/jcircuit/Circuit.html#CLOSED"><code>CLOSED</code></a> is
     not because the circuit must pass through <a href="../../../co/codecraft/jcircuit/Circuit.html#RESETTING"><code>RESETTING</code></a> first.</dd>
</dl>
</li>
</ul>
<a name="stateToString-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stateToString</h4>
<pre>public static&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;stateToString(int&nbsp;state)</pre>
<div class="block">Converts a state constant such as <a href="../../../co/codecraft/jcircuit/Circuit.html#CLOSED"><code>CLOSED</code></a> to a string such as "CLOSED".</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>state</code> - A state constant such as <a href="../../../co/codecraft/jcircuit/Circuit.html#OPEN"><code>OPEN</code></a>, or a complex snapshot that includes state bits. If the
               state is unrecognized, an <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang"><code>IllegalArgumentException</code></a> is thrown.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A string that describes the state.</dd>
</dl>
</li>
</ul>
<a name="stringToState-java.lang.String-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>stringToState</h4>
<pre>public static&nbsp;int&nbsp;stringToState(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name)</pre>
<div class="block">Converts a string such as "CLOSED" to a state constant such as <a href="../../../co/codecraft/jcircuit/Circuit.html#CLOSED"><code>CLOSED</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name</code> - A string such as "CLOSED" or "OPEN". Case doesn't matter. If the string is unrecognized,
              an <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang"><code>IllegalArgumentException</code></a> is thrown.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A a state constant such as <a href="../../../co/codecraft/jcircuit/Circuit.html#CLOSED"><code>CLOSED</code></a> or <a href="../../../co/codecraft/jcircuit/Circuit.html#OPEN"><code>OPEN</code></a>.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../co/codecraft/jcircuit/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Circuit.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../co/codecraft/jcircuit/Circuit.Listener.html" title="interface in co.codecraft.jcircuit"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?co/codecraft/jcircuit/Circuit.html" target="_top">Frames</a></li>
<li><a href="Circuit.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2016. All rights reserved.</small></p>
</body>
</html>
